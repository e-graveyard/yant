parameters:
  # the used version of the nodejs runtime
  version: '16.13' # latest LTS

  # should only production nodejs modules be installed?
  # possible options: 'true', 'false'
  onlyProduction: 'false'


steps:
  - task: NodeTool@0
    inputs:
      versionSpec: ${{ parameters.version }}
    displayName: Install NodeJS

  - ${{ if eq(parameters.onlyProduction, 'true') }}:
    - script: npm install --only=production
      displayName: Install production modules

  - ${{ if eq(parameters.onlyProduction, 'false') }}:
    - script: npm install
      displayName: Install modules
